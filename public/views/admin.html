{{define "admin"}}
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>{{index .ipsum "name"}} Admin @Yipsum</title>

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <!--<link href="/static/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">-->
        <link rel="stylesheet" href="/static/css/yip.css">

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
            <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="container index">
            <h1>{{index .ipsum "name"}} Admin</h1>

            <div class="row row-yiptext-add"> 
                <label>Add a quote or a paragraph :</label>
                <div class="col-xs-10 col-yiptext-add">
                    <div class="yiptext-add">
                        <textarea maxlength="600" data-autoresize rows="2"></textarea>
                    </div>
                </div>
                <div class="col-xs-2 col-btn-add">
                    <button type="button" class="btn btn-primary btn-md btn-add">Add</button>
                </div>
            </div>

            <div class="yiptext-list">
            {{ $length := len .texts }} {{ if gt $length 0 }}

                {{template "pagination" .pages }}

                    {{range .texts}}
                        {{template "yiptext" . }}
                    {{end}}

                {{template "pagination" .pages }}

            {{end}}
            </div>

        </div>


        <input type="hidden" id="ipsumId" value="{{.ipsumUri}}">
        <input type="hidden" id="csrf" value="{{.csrf}}">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

        <script src="/static/js/api.js"></script>
        <script src="/static/js/yip.js"></script>
    </body>
</html>
{{end}}

{{define "pagination"}}

    {{ $length := len .pages }} {{ if gt $length 1 }}
    <div class="row" style="text-align:center;">
        <ul class="pagination">
            {{ range $key, $value := .pages }}
                {{ if eq $.current $value }}
                    {{ $link := "" }} 
                    <li><a class="p-{{$value}} p-current" href="javascript: void(0)">{{$value}}</a></li>              
                {{ end }}
                {{ if ne $.current $value }}
                    {{ $link := "" }} 
                    <li><a class="p-{{$value}}" href="{{$.uri}}{{$value}}">{{$value}}</a></li>              
                {{ end }}
            {{ end }}
        </ul>
    </div>
    {{ end }}
{{end}}

{{define "yiptext"}}
    <div class="row row-yiptext" data-id="{{index . "id"}}"> 
        <div class="col-xs-10 col-yiptext">
            <div class="yiptext" style="display:none;">{{index . "text"}}</div>
            <div class="yiptext-edit">
                <textarea maxlength="600" data-autoresize rows="2">{{index . "text"}}</textarea>
            </div>
            <div class="msg"></div>
        </div>
        <div class="col-xs-2 col-edit">
            <button type="button" class="btn btn-default btn-edit glyphicon glyphicon-ok"></button>
            <span class="btn btn-default btn-saved glyphicon glyphicon-ok" style="display:none;"></span>
            <button type="button" class="btn btn-default glyphicon glyphicon-remove btn-delete" ></button>
        </div>
    </div>
{{end}}

